<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ğŸ° CubeEngine v2.0 í…ŒìŠ¤íŠ¸</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            padding: 20px;
            min-height: 100vh;
        }
        .container {
            max-width: 900px;
            margin: 0 auto;
        }
        .card {
            background: white;
            border-radius: 15px;
            padding: 25px;
            margin-bottom: 20px;
            box-shadow: 0 8px 25px rgba(0,0,0,0.2);
        }
        h1 {
            color: #667eea;
            margin-bottom: 10px;
            font-size: 28px;
        }
        h2 {
            color: #333;
            font-size: 20px;
            margin-bottom: 15px;
            border-left: 4px solid #667eea;
            padding-left: 12px;
        }
        .test-btn {
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
            border: none;
            padding: 12px 20px;
            border-radius: 8px;
            cursor: pointer;
            font-size: 14px;
            font-weight: bold;
            margin: 5px;
            transition: transform 0.2s;
        }
        .test-btn:hover { transform: translateY(-2px); }
        .test-btn:active { transform: translateY(0); }
        .test-btn:disabled { opacity: 0.5; cursor: not-allowed; }
        
        .result {
            background: #f8f9fa;
            border-radius: 10px;
            padding: 15px;
            margin-top: 15px;
            font-family: 'Courier New', monospace;
            font-size: 13px;
            max-height: 400px;
            overflow-y: auto;
        }
        .log { 
            color: #00ff88; 
            background: #1a1a2e; 
            padding: 10px; 
            border-radius: 5px; 
            margin-top: 10px;
            font-family: monospace;
        }
        .numbers {
            display: flex;
            gap: 8px;
            flex-wrap: wrap;
            margin: 10px 0;
        }
        .ball {
            width: 45px;
            height: 45px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            color: white;
            font-size: 16px;
            background: linear-gradient(135deg, #667eea, #764ba2);
            box-shadow: 0 3px 10px rgba(0,0,0,0.2);
        }
        .badge {
            display: inline-block;
            padding: 4px 10px;
            border-radius: 12px;
            font-size: 11px;
            font-weight: bold;
            margin: 2px;
        }
        .badge-success { background: #d4edda; color: #155724; }
        .badge-info { background: #d1ecf1; color: #0c5460; }
        .badge-warning { background: #fff3cd; color: #856404; }
        
        .status {
            padding: 10px;
            border-radius: 8px;
            margin-bottom: 10px;
            font-weight: bold;
        }
        .status-info { background: #d1ecf1; color: #0c5460; }
        .status-success { background: #d4edda; color: #155724; }
        .status-error { background: #f8d7da; color: #721c24; }
    </style>
</head>
<body>

<div class="container">
    <div class="card">
        <h1>ğŸ° CubeEngine v2.0 ë²”ìš© í…ŒìŠ¤íŠ¸</h1>
        <p style="color: #666; margin-bottom: 15px;">
            ì œì™¸ìˆ«ì, êµ¬ê°„ì„¤ì •, íˆìŠ¤í† ë¦¬ ê¸°ë°˜ í•™ìŠµ í…ŒìŠ¤íŠ¸
        </p>
        <div class="status status-info" id="status">ì¤€ë¹„ ì™„ë£Œ. ë²„íŠ¼ì„ í´ë¦­í•˜ì„¸ìš”.</div>
    </div>

    <!-- ê¸°ë³¸ í…ŒìŠ¤íŠ¸ -->
    <div class="card">
        <h2>ğŸ¯ ê¸°ë³¸ í…ŒìŠ¤íŠ¸</h2>
        <button class="test-btn" onclick="test1()">1. ë¡œë˜ 6/45 ê¸°ë³¸</button>
        <button class="test-btn" onclick="test2()">2. ì œì™¸ìˆ«ì (2,5,17)</button>
        <button class="test-btn" onclick="test3()">3. êµ¬ê°„ì„¤ì • (10~30)</button>
        <button class="test-btn" onclick="test4()">4. ì œì™¸+êµ¬ê°„ ë™ì‹œ</button>
        <div class="result" id="result1"></div>
    </div>

    <!-- í”„ë¦¬ì…‹ í…ŒìŠ¤íŠ¸ -->
    <div class="card">
        <h2>ğŸ® í”„ë¦¬ì…‹ í…ŒìŠ¤íŠ¸</h2>
        <button class="test-btn" onclick="testPreset('lotto645')">ë¡œë˜ 6/45</button>
        <button class="test-btn" onclick="testPreset('powerball')">íŒŒì›Œë³¼</button>
        <button class="test-btn" onclick="testPreset('keno')">í‚¤ë…¸</button>
        <button class="test-btn" onclick="testPreset('fast')">ë¹ ë¥¸ ëª¨ë“œ</button>
        <button class="test-btn" onclick="testPreset('turbo')">ì´ˆê³ ì† ëª¨ë“œ</button>
        <div class="result" id="result2"></div>
    </div>

    <!-- ê³ ê¸‰ í…ŒìŠ¤íŠ¸ -->
    <div class="card">
        <h2>ğŸš€ ê³ ê¸‰ í…ŒìŠ¤íŠ¸</h2>
        <button class="test-btn" onclick="test5()">5. ê³¼ê±° ë°ì´í„° í•™ìŠµ</button>
        <button class="test-btn" onclick="test6()">6. ì§„í–‰ìƒí™© ëª¨ë‹ˆí„°</button>
        <button class="test-btn" onclick="test7()">7. withPreset í™œìš©</button>
        <div class="result" id="result3"></div>
    </div>

</div>

<!-- CubeEngine ìŠ¤í¬ë¦½íŠ¸ (CDNì—ì„œ ë¡œë“œ) -->
<script src="https://zerojat7-ui.github.io/LibraryJS/cube-engine.js"></script>

<script>
// â”€â”€ ìœ í‹¸ë¦¬í‹° í•¨ìˆ˜ â”€â”€
const log = (msg, type = 'info') => {
    const el = document.getElementById('status');
    el.classList.remove('status-info', 'status-success', 'status-error');
    const statusType = type === 'success' ? 'status-success' : 
                       type === 'error' ? 'status-error' : 'status-info';
    el.classList.add(statusType);
    el.textContent = '[' + new Date().toLocaleTimeString('ko-KR') + '] ' + msg;
    console.log(msg);
};

const showNumbers = (divId, numbers, title) => {
    const el = document.getElementById(divId);
    let html = '<h3 style="margin-bottom:10px;">' + title + '</h3>';
    html += '<div class="numbers">';
    numbers.forEach(n => {
        html += '<div class="ball">' + n + '</div>';
    });
    html += '</div>';
    
    const sum = numbers.reduce((a,b) => a+b, 0);
    const odd = numbers.filter(n => n % 2 === 1).length;
    const even = numbers.length - odd;
    
    html += '<div style="margin-top:10px;">';
    html += '<span class="badge badge-info">í•©: ' + sum + '</span>';
    html += '<span class="badge badge-success">í™€: ' + odd + '</span>';
    html += '<span class="badge badge-warning">ì§: ' + even + '</span>';
    html += '</div>';
    
    el.innerHTML = html;
};

const showResult = (divId, data, title) => {
    const el = document.getElementById(divId);
    let html = '<h3 style="margin-bottom:10px;">' + title + '</h3>';
    html += '<pre style="font-size:11px; line-height:1.5;">' + JSON.stringify(data, null, 2) + '</pre>';
    el.innerHTML = html;
};

// â”€â”€ í…ŒìŠ¤íŠ¸ í•¨ìˆ˜ë“¤ â”€â”€

async function test1() {
    log('í…ŒìŠ¤íŠ¸ 1: ë¡œë˜ 6/45 ê¸°ë³¸ ì‹¤í–‰ ì¤‘...');
    try {
        const result = await CubeEngine.generate({
            items: 45,
            pick: 6,
            rounds: 10
        });
        showNumbers('result1', result.results[0], 'ğŸ¯ ì¶”ì²œ ë²ˆí˜¸ #1');
        log('í…ŒìŠ¤íŠ¸ 1 ì™„ë£Œ!', 'success');
        console.log('Result:', result);
    } catch(e) {
        log('ì˜¤ë¥˜: ' + e.message, 'error');
    }
}

async function test2() {
    log('í…ŒìŠ¤íŠ¸ 2: ì œì™¸ìˆ«ì (2, 5, 17) ì‹¤í–‰ ì¤‘...');
    try {
        const result = await CubeEngine.generate({
            items: 45,
            pick: 6,
            excludeNumbers: [2, 5, 17],
            rounds: 10
        });
        const hasExcluded = result.results[0].some(n => [2,5,17].includes(n));
        showNumbers('result1', result.results[0], 'ğŸ¯ ì¶”ì²œ ë²ˆí˜¸ (2,5,17 ì œì™¸)');
        log('í…ŒìŠ¤íŠ¸ 2 ì™„ë£Œ! ì œì™¸í™•ì¸: ' + (hasExcluded ? 'âŒì‹¤íŒ¨' : 'âœ…ì„±ê³µ'), 'success');
        console.log('Result:', result);
    } catch(e) {
        log('ì˜¤ë¥˜: ' + e.message, 'error');
    }
}

async function test3() {
    log('í…ŒìŠ¤íŠ¸ 3: êµ¬ê°„ì„¤ì • (10~30) ì‹¤í–‰ ì¤‘...');
    try {
        const result = await CubeEngine.generate({
            items: 45,
            pick: 6,
            rangeStart: 10,
            rangeEnd: 30,
            rounds: 10
        });
        const valid = result.results[0].every(n => n >= 10 && n <= 30);
        showNumbers('result1', result.results[0], 'ğŸ¯ ì¶”ì²œ ë²ˆí˜¸ (10~30 ë²”ìœ„)');
        log('í…ŒìŠ¤íŠ¸ 3 ì™„ë£Œ! ë²”ìœ„í™•ì¸: ' + (valid ? 'âœ…ì„±ê³µ' : 'âŒì‹¤íŒ¨'), 'success');
        console.log('Result:', result);
    } catch(e) {
        log('ì˜¤ë¥˜: ' + e.message, 'error');
    }
}

async function test4() {
    log('í…ŒìŠ¤íŠ¸ 4: ì œì™¸+êµ¬ê°„ ë™ì‹œ ì‹¤í–‰ ì¤‘...');
    try {
        const result = await CubeEngine.generate({
            items: 100,
            pick: 5,
            rangeStart: 10,
            rangeEnd: 50,
            excludeNumbers: [15, 27, 33],
            rounds: 10
        });
        const validRange = result.results[0].every(n => n >= 10 && n <= 50);
        const validExclude = !result.results[0].some(n => [15,27,33].includes(n));
        showNumbers('result1', result.results[0], 'ğŸ¯ ì¶”ì²œ ë²ˆí˜¸ (10~50, 15,27,33 ì œì™¸)');
        log('í…ŒìŠ¤íŠ¸ 4 ì™„ë£Œ! ë²”ìœ„:' + (validRange?'âœ…':'âŒ') + ' ì œì™¸:' + (validExclude?'âœ…':'âŒ'), 'success');
        console.log('Result:', result);
    } catch(e) {
        log('ì˜¤ë¥˜: ' + e.message, 'error');
    }
}

async function test5() {
    log('í…ŒìŠ¤íŠ¸ 5: ê³¼ê±° ë°ì´í„° í•™ìŠµ ì‹¤í–‰ ì¤‘...');
    const history = [
        [3, 12, 18, 25, 34, 41],
        [5, 9, 17, 22, 38, 44],
        [1, 14, 20, 28, 35, 42]
    ];
    try {
        const result = await CubeEngine.generate({
            items: 45,
            pick: 6,
            history: history,
            rounds: 10
        });
        showNumbers('result3', result.results[0], 'ğŸ¯ ML í•™ìŠµ ê¸°ë°˜ ì¶”ì²œ');
        log('í…ŒìŠ¤íŠ¸ 5 ì™„ë£Œ! í•™ìŠµë°ì´í„°: ' + history.length + 'íšŒì°¨', 'success');
        console.log('Result:', result);
    } catch(e) {
        log('ì˜¤ë¥˜: ' + e.message, 'error');
    }
}

async function test6() {
    log('í…ŒìŠ¤íŠ¸ 6: ì§„í–‰ìƒí™© ëª¨ë‹ˆí„° ì‹¤í–‰ ì¤‘...');
    const el = document.getElementById('result3');
    el.innerHTML = '<div class="log" id="progress">ì§„í–‰ ì¤‘...</div>';
    
    try {
        const result = await CubeEngine.generate({
            items: 45,
            pick: 6,
            rounds: 20,
            onProgress: (percent, stats) => {
                const progressEl = document.getElementById('progress');
                progressEl.innerHTML = 
                    'ì§„í–‰ë¥ : ' + percent + '% | ' +
                    'ë¼ìš´ë“œ: ' + (stats.round || 0) + '/' + (stats.totalRounds || 20) + ' | ' +
                    'ì ìˆ˜: ' + Math.round((stats.bestScore || 0) * 100) / 100;
            }
        });
        showNumbers('result3', result.results[0], 'ğŸ¯ ì¶”ì²œ ë²ˆí˜¸');
        log('í…ŒìŠ¤íŠ¸ 6 ì™„ë£Œ! ì†Œìš”ì‹œê°„: ' + result.meta.elapsed + 'ms', 'success');
        console.log('Result:', result);
    } catch(e) {
        log('ì˜¤ë¥˜: ' + e.message, 'error');
    }
}

async function test7() {
    log('í…ŒìŠ¤íŠ¸ 7: withPreset í™œìš© ì‹¤í–‰ ì¤‘...');
    try {
        const result = await CubeEngine.generate(
            CubeEngine.withPreset('lotto645', {
                excludeNumbers: [7, 13, 21],
                rounds: 10
            })
        );
        showNumbers('result3', result.results[0], 'ğŸ¯ ë¡œë˜í”„ë¦¬ì…‹ + ì œì™¸ìˆ«ì(7,13,21)');
        log('í…ŒìŠ¤íŠ¸ 7 ì™„ë£Œ!', 'success');
        console.log('Result:', result);
    } catch(e) {
        log('ì˜¤ë¥˜: ' + e.message, 'error');
    }
}

async function testPreset(name) {
    log('í”„ë¦¬ì…‹ í…ŒìŠ¤íŠ¸: ' + name + ' ì‹¤í–‰ ì¤‘...');
    try {
        const config = CubeEngine.withPreset(name, { rounds: 10 });
        const result = await CubeEngine.generate(config);
        showNumbers('result2', result.results[0], 'ğŸ¯ ' + name.toUpperCase() + ' ì¶”ì²œ');
        log(name + ' ì™„ë£Œ! (' + result.meta.items + 'ê°œ ì¤‘ ' + result.meta.pick + 'ê°œ)', 'success');
        console.log('Result:', result);
    } catch(e) {
        log('ì˜¤ë¥˜: ' + e.message, 'error');
    }
}

// ì´ˆê¸° ë©”ì‹œì§€
window.addEventListener('load', function() {
    log('âœ… CubeEngine ë¡œë“œ ì™„ë£Œ! ë²„ì „: ' + (CubeEngine.version || 'v2.0'), 'success');
    console.log('CubeEngine version:', CubeEngine.version);
    console.log('Available presets:', Object.keys(CubeEngine.presets || {}));
});
</script>

</body>
</html>
